<html>
<head>
  <meta charset="UTF-8">
</head>
<body>
<div id="app"></div>
<!--导入 Webpack 输出的 JavaScript 文件-->
<!-- <script src="./dist/bundle.js"></script> -->
<script>



let arr = [
    {id: 1, name: '部门1', pid: 0},
    {id: 2, name: '部门2', pid: 1},
    {id: 3, name: '部门3', pid: 1},
    {id: 4, name: '部门4', pid: 3},
    {id: 5, name: '部门5', pid: 4},
]
console.log(arrayToTree(arr))
function arrayToTree(arr) {
  const result = [];
  const itemMap = {};
  for (const item of arr) {
    const id = item.id;
    const pid = item.pid;
    if(!itemMap[id]){
      itemMap[id] = {
        children: []
      }
    }
    itemMap[id] = {
      ...item,
      children: itemMap[id]['children']
    }
    const treeItem =  itemMap[id];
    if(pid === 0){
      result.push(treeItem)
    }else{
      if(!itemMap[pid]){
        itemMap[pid] = {
          children: [],
        }
      }
      itemMap[pid].children.push(treeItem)
    }
  }
  return result
}






// 输入：nums = [1,2,3]
// 输出：[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
// var nums = [1,2,3]
// var subsets = function(nums) {
//     const result = []
//     function helper(index, path){
//       result.push(path.slice(0))
//         if(nums.length <= index){
//             return
//         }
//       for(let i = index; i < nums.length; i++){
//         path.push(nums[i])
//         helper(i+1, path)
//         path.pop()
//       }
//     }

//     helper(0,[])
    
//     return result
// };

// console.log(subsets(nums))


// 输入：nums = [1,1,2]
// 输出：
// [[1,1,2],
//  [1,2,1],
//  [2,1,1]]

// const camelToPascal = input => {
//     // TODO 转json 然后转大小写
    
// };
// const pascalToCamel = input => {
//     // TODO
// };

// const pascalCased = camelToPascal(camelCasedData);
// console.log(pascalCased);
// /* 期望输出：
// {
//     Age: 18,
//     Gender: "female",
//     Experiences: [
//         { From: "2009-09", To: "2013-06", Exp: "School" },
//         { From: "2013-09", To: "2020-02", Exp: "Job" },
//     ]
// }
// */

// const camelCasedData2 = pascalToCamel(pascalCased);
// 应该和 camelCasedData 一样




//  function sku(arr){
//     if(arr.length<1) return null;
//     if(arr.length<2) return arr[0];
//     var result=[];
//     var firstArr=arr[0];
//     for(var i = 0 ; i < firstArr.length ; i ++){ //这里是将第一个数组里面的元素变成数组，方便后续进行concat操作。
//         result.push([firstArr[i]]);
//     }
//     arr.splice(0,1,result);
    
//     while(arr.length>1){
//         var targetArr=arr[0];   
//         var nextArr=arr[1];
//         var result=[];
//         for(var i = 0 ; i < targetArr.length; i ++){//进行排列组合
//             for(var j = 0 ; j < nextArr.length; j ++){
//                var tmp=([].concat(targetArr[i]));  //将数据复制到新的数组里面，因为后续targetArr[i]还会被用到。不能直接更改targetArr[i]这个数组。
//                tmp.push(nextArr[j]);//
//                result.push(tmp);
//             }
//         }
//         arr.splice(0,2,result);//前面两个数组已经完成了排列组合，结果在result中，所以替换掉。
//     }
//     return result;
//  }

//  console.log(sku(arr))
 

</script>
</body>
</html>


